import * as R from 'ramda';
import request from 'superagent';

import phones from 'api/mockPhones';
import categories from 'api/mockCategories';

export const fetchPhones = async () => {
/*
	// axios.get('/api/...'); - при реальному API це так само повертало б проміс тому тоді ми писали б так
	// return await axios.get('/api/...');
	return new Promise((resolve, reject) => {
		resolve(phones);
		//reject('error');
	});
*/

	const { body } = await request.get(
		'http://www.mocky.io/v2/5918bc6b120000701040dbec'
	);
	return body.phones;
};

export const loadMorePhones = async ({ offset }) => {
	// fetch.get(`http://google.com/api/phones?offset=${offset}`)
	return new Promise((resolve, reject) => {
		resolve(phones);
	});
};

export const fetchPhoneById = async id => {
	return new Promise((resolve, reject) => {
		const phone = R.find(R.propEq('id', id), phones);
		resolve(phone);
	});
};

export const fetchCategories = async () => {
	return new Promise((resolve, reject) => {
		resolve(categories);
	});
};
